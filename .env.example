BACKEND_PORT=3000

DB_HOST=db
DB_PORT=5432
DB_USER=postgres
DB_PASS=postgres
DB_NAME=pokerhub
DB_SYNC=true

DATABASE_URL=postgres://postgres:postgres@db:5432/pokerhub

REDIS_URL=redis://redis:6379
RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672
RABBITMQ_QUEUE=tournaments

# Analytics configuration
KAFKA_BROKERS=kafka:9092
CLICKHOUSE_URL=http://clickhouse:8123

# Google Cloud project and storage configuration
GCP_PROJECT=pokerhub-dev
GCS_BUCKET=pokerhub-dev
GOOGLE_APPLICATION_CREDENTIALS=/workspace/keys/service-account.json
GCS_EMULATOR_HOST=http://storage:4443

RATE_LIMIT_WINDOW=60
RATE_LIMIT_MAX=5

# Wallet velocity limits
WALLET_VELOCITY_DEPOSIT_HOURLY_COUNT=3
WALLET_VELOCITY_WITHDRAW_HOURLY_COUNT=3
WALLET_VELOCITY_DEPOSIT_HOURLY_AMOUNT=100000
WALLET_VELOCITY_WITHDRAW_HOURLY_AMOUNT=100000
WALLET_VELOCITY_DEPOSIT_DAILY_COUNT=10
WALLET_VELOCITY_WITHDRAW_DAILY_COUNT=10

# JWT configuration
JWT_SECRETS=dev-secret

# Redis connection details (optional)
REDIS_HOST=redis
REDIS_PORT=6379

# Rake rules (JSON mapping stakes to percent/cap)
RAKE_CONFIG={"1/2":{"percent":0.05,"cap":200}}

# Game gateway limits
GATEWAY_QUEUE_LIMIT=100
GATEWAY_GLOBAL_LIMIT=30

# Spectator gateway settings
SPECTATOR_QUEUE_LIMIT=100
SPECTATOR_RATE_LIMIT=30
SPECTATOR_INTERVAL_MS=10000

# Leaderboard rebuild schedule
LEADERBOARD_REBUILD_CRON=0 3 * * *

# Telemetry exporter configuration
OTEL_EXPORTER_PROMETHEUS_PORT=9464
OTEL_EXPORTER_PROMETHEUS_HOST=0.0.0.0
OTEL_EXPORTER_PROMETHEUS_ENDPOINT=/metrics
OTEL_EXPORTER_OTLP_METRICS_ENDPOINT=
OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=

# KYC and region settings
KYC_API_URL=
KYC_API_KEY=
KYC_BLOCKED_COUNTRIES=IR,KP,SY,CU,RU,BY
KYC_BLOCKED_REGIONS=
GEOIP_PROVIDER_URL=
SANCTIONS_PROVIDER_URL=
PEP_PROVIDER_URL=
# `pep_list` table in the database is seeded with known PEPs via migrations
ONFIDO_API_TOKEN=
ALLOWED_COUNTRIES=

# Wallet limits and provider keys
WALLET_DAILY_DEPOSIT_LIMIT=
WALLET_DAILY_WITHDRAW_LIMIT=
STRIPE_API_KEY=
PROVIDER_WEBHOOK_SECRET=
WALLET_CHARGEBACK_WINDOW_DAYS=30
WALLET_CHARGEBACK_ACCOUNT_LIMIT=3
WALLET_CHARGEBACK_DEVICE_LIMIT=3

# Load testing harness (optional)
SOCKETS=10000
TABLES=10000
WS_URL=ws://localhost:3001/game
PACKET_LOSS=0.05
JITTER_MS=200
ACK_P95_MS=120
DURATION_SEC=60
LATENCY_MS=0
GC_P95_MS=50
METRICS_PORT=4000
