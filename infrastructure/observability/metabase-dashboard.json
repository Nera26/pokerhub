{
  "dashboards": [
    {
      "name": "Player Analytics",
      "pagerduty_service": "pokerhub-eng",
      "cards": [
        {
          "name": "DAU",
          "query": "SELECT countDistinct(playerId) AS dau FROM game_event WHERE ts >= today() - 1"
        },
        {
          "name": "MAU",
          "query": "SELECT countDistinct(playerId) AS mau FROM game_event WHERE ts >= addMonths(today(), -1)"
        },
        {
          "name": "Rake Curve",
          "query": "SELECT toDate(ts) AS day, sum(rake) AS rake FROM wallet_commit GROUP BY day ORDER BY day"
        },
        {
          "name": "VPIP/PFR/Pot",
          "query": "SELECT v.stake, v.vpip, p.pfr, s.pot FROM stake_vpip v JOIN stake_pfr p USING (stake) JOIN stake_pot s USING (stake) ORDER BY v.stake"
        }
      ]
    }
  ]
}
