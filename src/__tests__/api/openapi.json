{
  "openapi": "3.0.0",
  "info": {
    "title": "PokerHub API",
    "version": "1.0.0"
  },
  "paths": {
    "/api/tournaments": {
      "get": {
        "responses": {
          "200": {
            "description": "List of tournaments",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Tournament"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/tables": {
      "get": {
        "responses": {
          "200": {
            "description": "List of tables",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TableSummary"
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Players": {
        "type": "object",
        "required": ["current", "max"],
        "properties": {
          "current": { "type": "number" },
          "max": { "type": "number" }
        }
      },
      "Tournament": {
        "type": "object",
        "required": ["id", "title", "buyIn", "players", "registered"],
        "properties": {
          "id": { "type": "string" },
          "title": { "type": "string" },
          "buyIn": { "type": "number" },
          "fee": { "type": "number" },
          "prizePool": {
            "oneOf": [{ "type": "string" }, { "type": "number" }]
          },
          "players": { "$ref": "#/components/schemas/Players" },
          "registered": { "type": "boolean" }
        }
      },
      "TableSummary": {
        "type": "object",
        "required": [
          "id",
          "tableName",
          "gameType",
          "stakes",
          "players",
          "buyIn",
          "stats",
          "createdAgo"
        ],
        "properties": {
          "id": { "type": "string" },
          "tableName": { "type": "string" },
          "gameType": { "type": "string" },
          "stakes": {
            "type": "object",
            "required": ["small", "big"],
            "properties": {
              "small": { "type": "number" },
              "big": { "type": "number" }
            }
          },
          "players": { "$ref": "#/components/schemas/Players" },
          "buyIn": {
            "type": "object",
            "required": ["min", "max"],
            "properties": {
              "min": { "type": "number" },
              "max": { "type": "number" }
            }
          },
          "stats": {
            "type": "object",
            "required": ["handsPerHour", "avgPot", "rake"],
            "properties": {
              "handsPerHour": { "type": "number" },
              "avgPot": { "type": "number" },
              "rake": { "type": "number" }
            }
          },
          "createdAgo": { "type": "string" }
        }
      }
    }
  }
}
